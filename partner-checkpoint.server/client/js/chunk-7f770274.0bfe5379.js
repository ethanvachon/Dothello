(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f770274"],{"4cab":function(t,e,a){},7928:function(t,e,a){"use strict";a("4cab")},f517:function(t,e,a){"use strict";a.r(e);var r=a("7a23");const d=Object(r["I"])("data-v-f73e62d2");Object(r["u"])("data-v-f73e62d2");const s={id:"board-scroll",class:"fancy-scrollbar"},c={id:"lists",class:"d-flex align-items-start mx-1"};Object(r["s"])();const o=d((t,e,a,d,o,n)=>{const i=Object(r["y"])("nav-component"),l=Object(r["y"])("board-modal"),b=Object(r["y"])("list-modal"),g=Object(r["y"])("task-modal"),u=Object(r["y"])("list-component");return Object(r["r"])(),Object(r["e"])("div",{id:"page-board",class:["page",{loading:!d.board.imgUrl}],style:`background: linear-gradient( rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.6)), url('${d.board.imgUrl}') no-repeat center center /cover;`},[Object(r["h"])(i,{page:"Board","board-id":d.board.id},null,8,["board-id"]),d.showModal&&"board"===d.modalType?(Object(r["r"])(),Object(r["e"])(l,{key:0})):Object(r["f"])("",!0),d.showModal&&"list"===d.modalType?(Object(r["r"])(),Object(r["e"])(b,{key:1})):Object(r["f"])("",!0),d.showModal&&"task"===d.modalType?(Object(r["r"])(),Object(r["e"])(g,{key:2})):Object(r["f"])("",!0),Object(r["h"])("div",s,[Object(r["h"])("div",c,[(Object(r["r"])(!0),Object(r["e"])(r["a"],null,Object(r["x"])(d.lists,t=>(Object(r["r"])(),Object(r["e"])(u,{key:t.name,list:t},null,8,["list"]))),128))])])],6)});var n=a("5fb1"),i=a("83fc"),l=a("617f"),b=a("d8e7"),g=a("6c02"),u=a("b012"),p=a("8a4e");function h(){let t,e;const a=document.createElement("div");a.classList.add("taskShadow"),document.addEventListener("drag",(function(t){}),!1),document.addEventListener("dragstart",(function(a){try{e=a.target,t=e.parentNode,e.classList.add("dragShadow"),e.classList.add("dragging"),i["a"].dragging=!0}catch(r){p["a"].error(r)}}),!1),document.addEventListener("dragend",(function(t){try{e.classList.remove("dragShadow"),e.classList.remove("dragging"),i["a"].dragging=!1}catch(a){p["a"].error(a)}}),!1),document.addEventListener("dragover",(function(t){try{t.preventDefault()}catch(e){p["a"].error()}}),!1),document.addEventListener("dragenter",(function(t){try{t.target.classList.contains("dropzone")&&(t.target.classList.add("hover"),t.target.children[0].appendChild(a))}catch(e){p["a"].error(e)}}),!1),document.addEventListener("dragleave",(function(t){try{t.target.classList.contains("dropzone")&&(t.target.classList.remove("hover"),t.target.children[0].removeChild(a))}catch(e){p["a"].error(e)}}),!1),document.addEventListener("drop",(function(r){try{if(r.preventDefault(),r.target.classList.contains("dropzone")){r.target.classList.remove("hover"),e.parentNode.removeChild(e),r.target.children[0].removeChild(a),r.target.children[0].appendChild(e);const d=t.children;for(let t=0;t<d.length;t++){const e=d[t].getAttribute("task-id");i["a"].tasks[i["a"].tasks.findIndex(t=>t.id===e)].order=t+1,i["a"].tasks=i["a"].tasks.sort((t,e)=>t.order-e.order).sort((t,e)=>t.listId>e.listId?1:t.listId===e.listId?0:-1),b["a"].putTask({order:t+1},e)}b["a"].putTask({list:r.target.children[0].getAttribute("list-id"),order:parseInt(r.target.children[0].getAttribute("task-count"))+1},e.getAttribute("task-id"),e.getAttribute("board-id"))}}catch(d){p["a"].error(d)}}),!1)}var m=a("75fd"),v={components:{ListModal:m["default"]},setup(){const t=Object(r["c"])(()=>i["a"].board),e=Object(g["c"])();return Object(r["p"])(()=>{h();const t=setInterval((function(){i["a"].user.isAuthenticated&&(l["a"].getBoard(e.params.id,!0),n["a"].getLists(e.params.id),b["a"].getTasks(e.params.id),clearInterval(t))}),10)}),{board:t,lists:Object(r["c"])(()=>i["a"].lists),showModal:Object(r["c"])(()=>i["a"].showModal),modalType:Object(r["c"])(()=>i["a"].modalType),addList(){n["a"].postList({name:"Hi this is a list",boardId:e.params.id,color:"red"})},login(){u["a"].loginWithPopup()}}}};a("7928");v.render=o,v.__scopeId="data-v-f73e62d2";e["default"]=v}}]);